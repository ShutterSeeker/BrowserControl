var enableSaveOnEdit,errorCallbackUpdate,errorCallbackInsert;!function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==n(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i;return n(this[0]).is("form")?t=this.validate().form():(t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t),r.removeAttr(t)}),i},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i)),delete f.messages,s[r.name]=f,i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i],delete f[i],"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(9!==t.which||""!==this.elementValue(n))&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this[0].form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!this.is(i.ignore)&&i[u].call(r,this[0],t)}this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),n.each(i,function(n,i){r[i]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},elementValue:function(t){var i,r=n(t),u=r.attr("type");return"radio"===u||"checkbox"===u?n("input[name='"+r.attr("name")+"']:checked").val():(i=r.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,u,f=n(t).rules(),o=n.map(f,function(n,t){return t}).length,e=!1,s=this.elementValue(t);for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,s,t,u.parameters),"dependency-mismatch"===i&&1===o){e=!0;continue}if(e=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,u),!1}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",h),h;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i[0].toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters)),this.errorList.push({message:r,element:t,method:i.method}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var r,i,u={},e=n(t),f=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(null===f||/number|range|text/.test(f))&&(i=Number(i)),i||0===i?u[r]=i:f===r&&"range"!==f&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule"+i[0].toUpperCase()+i.substring(1).toLowerCase()),void 0!==r&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=void 0!==r?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage,s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o)),f.valid=s,u.stopRequest(i,s)}},r)),"pending")}}}),n.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead.";}}(jQuery),function(n){var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})}(jQuery),function(n){n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){n.forEach=function(n,t,i){var r=-1,u=n.length>>>0;(function f(e){var o,s=e===!1;do++r;while(!(r in n)&&r!==u);if(s||r===u){i&&i(!s,n);return}e=t.call({async:function(){return o=!0,f}},n[r],r,n),o||f(e)})()}}(typeof exports=="object"&&exports||this),function(n){if(typeof bootstrap=="function")bootstrap("promise",n);else if(typeof exports=="object")module.exports=n();else if(typeof define=="function"&&define.amd)define(n);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=n;else return;else Q=n()}(function(){"use strict";function h(n){return function(){return pt.apply(n,arguments)}}function rt(n){return n===Object(n)}function gt(n){return dt(n)==="[object StopIteration]"||n instanceof p}function ut(n,t){var r,i,u;if(v&&t.stack&&typeof n=="object"&&n!==null&&n.stack&&n.stack.indexOf(d)===-1){for(r=[],i=t;!!i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(n.stack),u=r.join("\n"+d+"\n"),n.stack=ni(u)}}function ni(n){for(var r=n.split("\n"),u=[],t,i=0;i<r.length;++i)t=r[i],ii(t)||ti(t)||!t||u.push(t);return u.join("\n")}function ti(n){return n.indexOf("(module.js:")!==-1||n.indexOf("(node.js:")!==-1}function ft(n){var r=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(n),t,i;return r?[r[1],Number(r[2])]:(t=/at ([^ ]+):(\d+):(?:\d+)$/.exec(n),t)?[t[1],Number(t[2])]:(i=/.*@(.+):(\d+)$/.exec(n),i?[i[1],Number(i[2])]:void 0)}function ii(n){var t=ft(n),r,i;return t?(r=t[0],i=t[1],r===tt&&i>=yt&&i<=vt):!1}function et(){if(v)try{throw new Error;}catch(r){var t=r.stack.split("\n"),i=t[0].indexOf("@")>0?t[1]:t[2],n=ft(i);return n?(tt=n[0],n[1]):void 0}}function ri(n,t,i){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(t+" is deprecated, use "+i+" instead.",new Error("").stack),n.apply(n,arguments)}}function n(n){return o(n)?n:ht(n)?hi(n):nt(n)}function r(){function a(n){e=n,s.source=n,y(c,function(t,i){u(function(){n.promiseDispatch.apply(n,i)})},void 0),c=void 0,l=void 0}var c=[],l=[],e,h=k(r.prototype),s=k(t.prototype);if(s.promiseDispatch=function(n,t,r){var f=i(arguments);c?(c.push(f),t==="when"&&r[1]&&l.push(r[1])):u(function(){e.promiseDispatch.apply(e,f)})},s.valueOf=function(){if(c)return s;var n=st(e);return o(n)&&(e=n),n},s.inspect=function(){return e?e.inspect():{state:"pending"}},n.longStackSupport&&v)try{throw new Error;}catch(p){s.stack=p.stack.substring(p.stack.indexOf("\n")+1)}return h.promise=s,h.resolve=function(t){e||a(n(t))},h.fulfill=function(n){e||a(nt(n))},h.reject=function(n){e||a(f(n))},h.notify=function(n){e||y(l,function(t,i){u(function(){i(n)})},void 0)},h}function s(n){if(typeof n!="function")throw new TypeError("resolver must be a function.");var t=r();try{n(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}return t.promise}function ot(t){return s(function(i,r){for(var u=0,f=t.length;u<f;u++)n(t[u]).then(i,r)})}function t(n,i,r){var u,e;return i===void 0&&(i=function(n){return f(new Error("Promise does not support operation: "+n))}),r===void 0&&(r=function(){return{state:"unknown"}}),u=k(t.prototype),u.promiseDispatch=function(t,r,e){var o;try{o=n[r]?n[r].apply(u,e):i.call(u,r,e)}catch(s){o=f(s)}t&&t(o)},u.inspect=r,r&&(e=r(),e.state==="rejected"&&(u.exception=e.reason),u.valueOf=function(){var n=r();return n.state==="pending"||n.state==="rejected"?u:n.value}),u}function e(t,i,r,u){return n(t).then(i,r,u)}function st(n){if(o(n)){var t=n.inspect();if(t.state==="fulfilled")return t.value}return n}function o(n){return rt(n)&&typeof n.promiseDispatch=="function"&&typeof n.inspect=="function"}function ht(n){return rt(n)&&typeof n.then=="function"}function ui(n){return o(n)&&n.inspect().state==="pending"}function fi(n){return!o(n)||n.inspect().state==="fulfilled"}function ei(n){return o(n)&&n.inspect().state==="rejected"}function g(){l.length=0,w.length=0,a||(a=!0)}function oi(n,t){a&&(w.push(n),t&&typeof t.stack!="undefined"?l.push(t.stack):l.push("(no stack) "+t))}function si(n){if(a){var t=wt(w,n);t!==-1&&(w.splice(t,1),l.splice(t,1))}}function f(n){var i=t({when:function(t){return t&&si(this),t?t(n):this}},function(){return this},function(){return{state:"rejected",reason:n}});return oi(i,n),i}function nt(n){return t({when:function(){return n},get:function(t){return n[t]},set:function(t,i){n[t]=i},"delete":function(t){delete n[t]},post:function(t,i){return t===null||t===void 0?n.apply(void 0,i):n[t].apply(n,i)},apply:function(t,i){return n.apply(t,i)},keys:function(){return kt(n)}},void 0,function(){return{state:"fulfilled",value:n}})}function hi(n){var t=r();return u(function(){try{n.then(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}}),t.promise}function ci(i){return t({isDef:function(){}},function(n,t){return lt(i,n,t)},function(){return n(i).inspect()})}function ct(t,i,r){return n(t).spread(i,r)}function li(t){return function(){function i(t,i){var s;if(typeof StopIteration=="undefined"){try{s=u[t](i)}catch(h){return f(h)}return s.done?n(s.value):e(s.value,r,o)}try{s=u[t](i)}catch(h){return gt(h)?n(h.value):f(h)}return e(s,r,o)}var u=t.apply(this,arguments),r=i.bind(i,"next"),o=i.bind(i,"throw");return r()}}function ai(t){n.done(n.async(t)())}function vi(n){throw new p(n);}function yi(n){return function(){return ct([this,c(arguments)],function(t,i){return n.apply(t,i)})}}function lt(t,i,r){return n(t).dispatch(i,r)}function c(n){return e(n,function(n){var i=0,t=r();return y(n,function(r,u,f){var s;o(u)&&(s=u.inspect()).state==="fulfilled"?n[f]=s.value:(++i,e(u,function(r){n[f]=r,--i==0&&t.resolve(n)},t.reject,function(n){t.notify({index:f,value:n})}))},void 0),i===0&&t.resolve(n),t.promise})}function at(t){return e(t,function(t){return t=b(t,n),e(c(b(t,function(n){return e(n,it,it)})),function(){return t})})}function pi(t){return n(t).allSettled()}function wi(t,i){return n(t).then(void 0,void 0,i)}function bi(t,i){return n(t).nodeify(i)}var v=!1,p,d,vt;try{throw new Error;}catch(ki){v=!!ki.stack}var yt=et(),tt,it=function(){},u=function(){function t(){for(var r,i;n.next;){n=n.next,r=n.task,n.task=void 0,i=n.domain,i&&(n.domain=void 0,i.enter());try{r()}catch(u){if(e){i&&i.exit(),setTimeout(t,0),i&&i.enter();throw u;}else setTimeout(function(){throw u;},0)}i&&i.exit()}f=!1}var n={task:void 0,next:null},s=n,f=!1,i=void 0,e=!1,r,o;return u=function(n){s=s.next={task:n,domain:e&&process.domain,next:null},f||(f=!0,i())},typeof process!="undefined"&&process.nextTick?(e=!0,i=function(){process.nextTick(t)}):typeof setImmediate=="function"?i=typeof window!="undefined"?setImmediate.bind(window,t):function(){setImmediate(t)}:typeof MessageChannel!="undefined"?(r=new MessageChannel,r.port1.onmessage=function(){i=o,r.port1.onmessage=t,t()},o=function(){r.port2.postMessage(0)},i=function(){setTimeout(t,0),o()}):i=function(){setTimeout(t,0)},u}(),pt=Function.call;var i=h(Array.prototype.slice),y=h(Array.prototype.reduce||function(n,t){var i=0,r=this.length;if(arguments.length===1)do{if(i in this){t=this[i++];break}if(++i>=r)throw new TypeError;}while(1);for(;i<r;i++)i in this&&(t=n(t,this[i],i));return t}),wt=h(Array.prototype.indexOf||function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t;return-1}),b=h(Array.prototype.map||function(n,t){var i=this,r=[];return y(i,function(u,f,e){r.push(n.call(t,f,e,i))},void 0),r}),k=Object.create||function(n){function t(){}return t.prototype=n,new t},bt=h(Object.prototype.hasOwnProperty),kt=Object.keys||function(n){var i=[],t;for(t in n)bt(n,t)&&i.push(t);return i},dt=h(Object.prototype.toString);p=typeof ReturnValue!="undefined"?ReturnValue:function(n){this.value=n},d="From previous event:",n.resolve=n,n.nextTick=u,n.longStackSupport=!1,n.defer=r,r.prototype.makeNodeResolver=function(){var n=this;return function(t,r){t?n.reject(t):arguments.length>2?n.resolve(i(arguments,1)):n.resolve(r)}},n.Promise=s,n.promise=s,s.race=ot,s.all=c,s.reject=f,s.resolve=n,n.passByCopy=function(n){return n},t.prototype.passByCopy=function(){return this},n.join=function(t,i){return n(t).join(i)},t.prototype.join=function(t){return n([this,t]).spread(function(n,t){if(n===t)return n;throw new Error("Can't join: not the same: "+n+" "+t);})},n.race=ot,t.prototype.race=function(){return this.then(n.race)},n.makePromise=t,t.prototype.toString=function(){return"[object Promise]"},t.prototype.then=function(t,i,e){function c(n){try{return typeof t=="function"?t(n):n}catch(i){return f(i)}}function l(n){if(typeof i=="function"){ut(n,h);try{return i(n)}catch(t){return f(t)}}return f(n)}function a(n){return typeof e=="function"?e(n):n}var h=this,o=r(),s=!1;return u(function(){h.promiseDispatch(function(n){s||(s=!0,o.resolve(c(n)))},"when",[function(n){s||(s=!0,o.resolve(l(n)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(t){var i,r=!1;try{i=a(t)}catch(u){if(r=!0,n.onerror)n.onerror(u);else throw u;}r||o.notify(i)}]),o.promise},n.when=e,t.prototype.thenResolve=function(n){return this.then(function(){return n})},n.thenResolve=function(t,i){return n(t).thenResolve(i)},t.prototype.thenReject=function(n){return this.then(function(){throw n;})},n.thenReject=function(t,i){return n(t).thenReject(i)},n.nearer=st,n.isPromise=o,n.isPromiseAlike=ht,n.isPending=ui,t.prototype.isPending=function(){return this.inspect().state==="pending"},n.isFulfilled=fi,t.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},n.isRejected=ei,t.prototype.isRejected=function(){return this.inspect().state==="rejected"};var l=[],w=[],a=!0;return n.resetUnhandledRejections=g,n.getUnhandledReasons=function(){return l.slice()},n.stopUnhandledRejectionTracking=function(){g(),a=!1},g(),n.reject=f,n.fulfill=nt,n.master=ci,n.spread=ct,t.prototype.spread=function(n,t){return this.all().then(function(t){return n.apply(void 0,t)},t)},n.async=li,n.spawn=ai,n["return"]=vi,n.promised=yi,n.dispatch=lt,t.prototype.dispatch=function(n,t){var f=this,i=r();return u(function(){f.promiseDispatch(i.resolve,n,t)}),i.promise},n.get=function(t,i){return n(t).dispatch("get",[i])},t.prototype.get=function(n){return this.dispatch("get",[n])},n.set=function(t,i,r){return n(t).dispatch("set",[i,r])},t.prototype.set=function(n,t){return this.dispatch("set",[n,t])},n.del=n["delete"]=function(t,i){return n(t).dispatch("delete",[i])},t.prototype.del=t.prototype["delete"]=function(n){return this.dispatch("delete",[n])},n.mapply=n.post=function(t,i,r){return n(t).dispatch("post",[i,r])},t.prototype.mapply=t.prototype.post=function(n,t){return this.dispatch("post",[n,t])},n.send=n.mcall=n.invoke=function(t,r){return n(t).dispatch("post",[r,i(arguments,2)])},t.prototype.send=t.prototype.mcall=t.prototype.invoke=function(n){return this.dispatch("post",[n,i(arguments,1)])},n.fapply=function(t,i){return n(t).dispatch("apply",[void 0,i])},t.prototype.fapply=function(n){return this.dispatch("apply",[void 0,n])},n["try"]=n.fcall=function(t){return n(t).dispatch("apply",[void 0,i(arguments,1)])},t.prototype.fcall=function(){return this.dispatch("apply",[void 0,i(arguments)])},n.fbind=function(t){var r=n(t),u=i(arguments,1);return function(){return r.dispatch("apply",[this,u.concat(i(arguments))])}},t.prototype.fbind=function(){var n=this,t=i(arguments);return function(){return n.dispatch("apply",[this,t.concat(i(arguments))])}},n.keys=function(t){return n(t).dispatch("keys",[])},t.prototype.keys=function(){return this.dispatch("keys",[])},n.all=c,t.prototype.all=function(){return c(this)},n.allResolved=ri(at,"allResolved","allSettled"),t.prototype.allResolved=function(){return at(this)},n.allSettled=pi,t.prototype.allSettled=function(){return this.then(function(t){return c(b(t,function(t){function i(){return t.inspect()}return t=n(t),t.then(i,i)}))})},n.fail=n["catch"]=function(t,i){return n(t).then(void 0,i)},t.prototype.fail=t.prototype["catch"]=function(n){return this.then(void 0,n)},n.progress=wi,t.prototype.progress=function(n){return this.then(void 0,void 0,n)},n.fin=n["finally"]=function(t,i){return n(t)["finally"](i)},t.prototype.fin=t.prototype["finally"]=function(t){return t=n(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n;})})},n.done=function(t,i,r,u){return n(t).done(i,r,u)},t.prototype.done=function(t,i,r){var f=function(t){u(function(){if(ut(t,e),n.onerror)n.onerror(t);else throw t;})},e=t||i||r?this.then(t,i,r):this;typeof process=="object"&&process&&process.domain&&(f=process.domain.bind(f)),e.then(void 0,f)},n.timeout=function(t,i,r){return n(t).timeout(i,r)},t.prototype.timeout=function(n,t){var i=r(),u=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+n+" ms"),t.code="ETIMEDOUT"),i.reject(t)},n);return this.then(function(n){clearTimeout(u),i.resolve(n)},function(n){clearTimeout(u),i.reject(n)},i.notify),i.promise},n.delay=function(t,i){return i===void 0&&(i=t,t=void 0),n(t).delay(i)},t.prototype.delay=function(n){return this.then(function(t){var i=r();return setTimeout(function(){i.resolve(t)},n),i.promise})},n.nfapply=function(t,i){return n(t).nfapply(i)},t.prototype.nfapply=function(n){var t=r(),u=i(n);return u.push(t.makeNodeResolver()),this.fapply(u).fail(t.reject),t.promise},n.nfcall=function(t){var r=i(arguments,1);return n(t).nfapply(r)},t.prototype.nfcall=function(){var t=i(arguments),n=r();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},n.nfbind=n.denodeify=function(t){var u=i(arguments,1);return function(){var e=u.concat(i(arguments)),f=r();return e.push(f.makeNodeResolver()),n(t).fapply(e).fail(f.reject),f.promise}},t.prototype.nfbind=t.prototype.denodeify=function(){var t=i(arguments);return t.unshift(this),n.denodeify.apply(void 0,t)},n.nbind=function(t,u){var f=i(arguments,2);return function(){function s(){return t.apply(u,arguments)}var o=f.concat(i(arguments)),e=r();return o.push(e.makeNodeResolver()),n(s).fapply(o).fail(e.reject),e.promise}},t.prototype.nbind=function(){var t=i(arguments,0);return t.unshift(this),n.nbind.apply(void 0,t)},n.nmapply=n.npost=function(t,i,r){return n(t).npost(i,r)},t.prototype.nmapply=t.prototype.npost=function(n,t){var f=i(t||[]),u=r();return f.push(u.makeNodeResolver()),this.dispatch("post",[n,f]).fail(u.reject),u.promise},n.nsend=n.nmcall=n.ninvoke=function(t,u){var e=i(arguments,2),f=r();return e.push(f.makeNodeResolver()),n(t).dispatch("post",[u,e]).fail(f.reject),f.promise},t.prototype.nsend=t.prototype.nmcall=t.prototype.ninvoke=function(n){var u=i(arguments,1),t=r();return u.push(t.makeNodeResolver()),this.dispatch("post",[n,u]).fail(t.reject),t.promise},n.nodeify=bi,t.prototype.nodeify=function(n){if(n)this.then(function(t){u(function(){n(null,t)})},function(t){u(function(){n(t)})});else return this},vt=et(),n}),function(n){n(["jquery"],function(n){return function(){function l(n,t,u){return r({type:f.error,iconClass:i().iconClasses.error,message:n,optionsOverride:u,title:t})}function a(n,t,u){return r({type:f.info,iconClass:i().iconClasses.info,message:n,optionsOverride:u,title:t})}function v(n){e=n}function y(n,t,u){return r({type:f.success,iconClass:i().iconClasses.success,message:n,optionsOverride:u,title:t})}function p(n,t,u){return r({type:f.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:u,title:t})}function w(r){var f=i();if(t||u(f),r&&n(":focus",r).length===0){r[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){s(r)}});return}t.children().length&&t[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){t.remove()}})}function b(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;<\/button>",newestOnTop:!0}}function o(n){e&&e(n)}function r(r){function c(t){if(!n(":focus",e).length||t)return e[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){s(e),f.onHidden&&f.onHidden(),l.state="hidden",l.endTime=new Date,o(l)}})}function b(){(f.timeOut>0||f.extendedTimeOut>0)&&(y=setTimeout(c,f.extendedTimeOut))}function k(){clearTimeout(y),e.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}var f=i(),v=r.iconClass||f.iconClass;typeof r.optionsOverride!="undefined"&&(f=n.extend(f,r.optionsOverride),v=r.optionsOverride.iconClass||v),h++,t=u(f);var y=null,e=n("<div/>"),p=n("<div/>"),w=n("<div/>"),a=n(f.closeHtml),l={toastId:h,state:"visible",startTime:new Date,options:f,map:r};return r.iconClass&&e.addClass(f.toastClass).addClass(v),r.title&&(p.append(r.title).addClass(f.titleClass),e.append(p)),r.message&&(w.append(r.message).addClass(f.messageClass),e.append(w)),f.closeButton&&(a.addClass("toast-close-button"),e.prepend(a)),e.hide(),f.newestOnTop?t.prepend(e):t.append(e),e[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(y=setTimeout(c,f.timeOut)),e.hover(k,b),!f.onclick&&f.tapToDismiss&&e.click(c),f.closeButton&&a&&a.click(function(n){n.stopPropagation(),c(!0)}),f.onclick&&e.click(function(){f.onclick(),c()}),o(l),f.debug&&console&&console.log(l),e}function u(r){return(r||(r=i()),t=n("#"+r.containerId),t.length)?t:(t=n("<div/>").attr("id",r.containerId).addClass(r.positionClass),t.appendTo(n(r.target)),t)}function i(){return n.extend({},b(),c.options)}function s(n){(t||(t=u()),n.is(":visible"))||(n.remove(),n=null,t.children().length===0&&t.remove())}var t,e,h=0,f={error:"error",info:"info",success:"success",warning:"warning"},c={clear:w,error:l,getContainer:u,info:a,options:{},subscribe:v,success:y,version:"2.0.1",warning:p};return c}()})}(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&module.exports?module.exports=t(require(n[0])):window.toastr=t(window.jQuery)}),_webUi.detailsScreenActions=function(){return{menuActionOpenUrlInNewTab:function(n){if(n.data.URL&&_webUi.detailsScreenBinding.entityInJsonFormat){var t=n.data.URL;t=_webUi.handlebars.getCompiledText(t,_webUi.detailsScreenBinding.entityInJsonFormat),$.trim(t)&&window.open(t)}},menuActionOpenUrlInCurrentTab:function(n){if(n.data.URL&&_webUi.detailsScreenBinding.entityInJsonFormat){var t=n.data.URL;t=_webUi.handlebars.getCompiledText(t,_webUi.detailsScreenBinding.entityInJsonFormat),$.trim(t)&&(window.location=t)}},menuActionOpenUrlInModalDialog:function(n){if(n!==undefined&&n.data.URL!==undefined&&_webUi.detailsScreenBinding.entityInJsonFormat!==undefined){var t=n.data.URL;t=_webUi.handlebars.getCompiledText(t,_webUi.detailsScreenBinding.entityInJsonFormat),_webUi.dialog.showUrlInModalDialog(t)}},ExpandCollapseSideBarOnArrowClick:function(){$("#arrowExpandCollapse").attr("class").contains("far fa-chevron-circle-right")?($("#arrowExpandCollapse").removeClass("far fa-chevron-circle-right"),$("#arrowExpandCollapse").addClass("far fa-chevron-circle-left")):($("#arrowExpandCollapse").removeClass("far fa-chevron-circle-left"),$("#arrowExpandCollapse").addClass("far fa-chevron-circle-right")),$(".accordionsidebar").toggleClass("toggled");var n=$(".navbar-header a.navbar-brand");_webUi.LocalStorage.setLocalStorage(n.attr("data-resourcekey"),"menu-sideBar-toggle","toggled",$("#arrowExpandCollapse").hasClass("far fa-chevron-circle-right"))},CollapseSideBarOnSystemMenuClick:function(){$("#arrowExpandCollapse")&&$("#arrowExpandCollapse").attr("class")&&$("#arrowExpandCollapse").attr("class").contains("far fa-chevron-circle-left")&&($("#arrowExpandCollapse").removeClass("far fa-chevron-circle-left"),$("#arrowExpandCollapse").addClass("far fa-chevron-circle-right"),$(".accordionsidebar").toggleClass("toggled"))}}}(),_webUi.detailsScreenBinding=function(){function a(n){this.entityJson=n,this.model=ko.mapping.fromJS(n),igComboSelectionChanged=function(n,t){if(t.oldItems!==t.items){var f=t.owner.bindings[0].attributes["data-bindingDataSource"],i,r;f&&f.value&&(i=f.value.split(".")),i&&i.length>0&&(r=t.items&&t.items.length>0?t.items[0].data.Identifier:null,i.length===2?typeof _webUi.detailsScreenBinding.viewModel.model[i[0]][i[1]]=="function"?_webUi.detailsScreenBinding.viewModel.model[i[0]][i[1]](r):_webUi.detailsScreenBinding.viewModel.model[i[0]][i[1]]=r:typeof _webUi.detailsScreenBinding.viewModel.model[f.value]=="function"?_webUi.detailsScreenBinding.viewModel.model[f.value](r):_webUi.detailsScreenBinding.viewModel.model[f.value]=r),_webUi.detailsScreenBinding.updateCascadingData(t,r,null,null),u()}},igComboRendered=function(n){var i=$("#"+n.target.id);if(i.igCombo("option","allowCustomValue"))i.igCombo("textInput").on("focusout",igComboTextInputFocusOut)},igComboTextInputFocusOut=function(evt){var textInput=evt.currentTarget;if(textInput){var comboBox=$(evt.currentTarget.parentElement).closest("[data-bindingdatasource]"),bindingProperty=$(comboBox).attr("data-selectedItemVar"),bindingDataSource=$(comboBox).attr("data-bindingdatasource"),model,identifier;bindingDataSource&&(model=bindingDataSource.split(".")),model&&model.length>0&&(model.length===2?_webUi.detailsScreenBinding.viewModel.model[model[0]][model[1]]=textInput.value:_webUi.detailsScreenBinding.viewModel.model[bindingDataSource]=textInput.value,eval("_webUi.detailsScreenBinding.viewModel."+bindingProperty+"= ko.observableArray([textInput.value])")),u()}},igComboDropDownOpening=function(n,t){var r=t.owner.bindings[0].attributes["data-parentcombo"],u,f,i;r&&(u=t.owner.bindings[0].attributes.cascacdeRendered,u===undefined&&(f=$("#"+r.value),i=f.igCombo("selectedItems"),i&&i.length>0&&i[0].data&&(identifier=i[0].data.Identifier,_webUi.detailsScreenBinding.updateCascadingData(t,identifier,t.owner.bindings,null))))}}var l="",r,f=function(combobox,entityJson){var boundCombo=combobox.attributes.boundCombo,bindingDataSource,dataModel,model,bindingProperty,value,caseSensitiveBinding,functionName;boundCombo===undefined&&(bindingDataSource=combobox.attributes["data-bindingDataSource"],dataModel=_webUi.detailsScreenBinding.viewModel.model,bindingDataSource&&bindingDataSource.value&&(model=bindingDataSource.value.split(".")),model&&model.length>0&&(bindingProperty=combobox.attributes["data-selectedItemVar"],bindingProperty&&bindingProperty.value&&(value=model.length===2?entityJson[model[0]][model[1]]:dataModel?dataModel[model[0]]():entityJson[model[0]],value===null&&(value=""),caseSensitiveBinding=combobox.attributes["data-caseInsensitiveBinding"],caseSensitiveBinding&&caseSensitiveBinding.value==="True"&&(value=value.toLowerCase()),functionName="_webUi.detailsScreenBinding.viewModel."+bindingProperty.value,eval(functionName+" =  ko.observableArray([value])"),combobox.attributes.boundCombo=!0)))},e=function(n,t){var i=[];t?$("#"+t).find('span[data-controltype="igCombo"]').each(function(t,i){f(i,n)}):$('span[data-controltype="igCombo"]').each(function(t,i){f(i,n)})},v=function(n){n=y(n),_webUi.detailsScreenBinding.viewModel=new a(n),e(n),s(),_webUi.detailsScreenBinding.enableEdit(_webUi.detailsScreenBinding.viewModel.model),w(),b(),o(n),p()},y=function(n){if($("#formId")){var t;if($("#formId")[0].value==="4058"){if(t=JSON.parse(localStorage.getItem("SavedTpmOrderHeaderJson")),localStorage.removeItem("SavedTpmOrderHeaderJson"),_webUi.helper.getQueryParameter("loadLines")&&t)return t}else if($("#formId")[0].value==="4064"){if(t=JSON.parse(sessionStorage.getItem("SavedTpmReceiptHeaderJson")),sessionStorage.removeItem("SavedTpmReceiptHeaderJson"),_webUi.helper.getQueryParameter("loadLines")&&t)return t}else if($("#formId")[0].value==="4075"&&(t=JSON.parse(sessionStorage.getItem("SavedTpmPurchaseOrderHeaderJson")),sessionStorage.removeItem("SavedTpmPurchaseOrderHeaderJson"),_webUi.helper.getQueryParameter("loadLines")&&t))return t}return n},o=function(n){$.each(n,function(t,i){var u=!1,r=$("a[data-bind$="+t+"]");r&&r.length>0&&(u=!0),u&&$.each(r,function(t,r){_webUi.hyperlink.bindHyperlink(r.id,i,n)})})},s=function(){var t=$("form:not([id=signOutForm]):not([id=ResetSettingsModalDialogForm]):first"),n;if(t){if(n=$(":input",t).not(":button, :submit, :reset, .ui-igcombo-field").last(),n.data("igTextEditor")===undefined&&n.data("igNumericEditor")===undefined&&n.data("igDatePicker")===undefined){ko.bindingHandlers&&(ko.bindingHandlers.igGridPagingPageIndex={init:function(n,t){$(n).on("iggridpagingpageindexchanged",function(n,i){t()(i.pageIndex)})},update:function(n,t){var r=t(),i=$(n);if(ko.isObservable(r)){var f=i.data("igGrid").dataSource.data().length,u=i.igGridPaging("option","pageSize"),e=parseInt((f+u-1)/u),r=parseInt(r());r<e?i.igGridPaging("option","currentPageIndex",r):i.igGridPaging("option","currentPageIndex",0)}}},_webUi.toggleSwitch&&(ko.bindingHandlers.scaleToggle=_webUi.toggleSwitch.scaleToggle)),_webUi.config.DelayedBinding?ko.applyBindings(_webUi.detailsScreenBinding.viewModel,$("#fixedTopWrapper")[0]):ko.applyBindings(_webUi.detailsScreenBinding.viewModel);return}setTimeout(function(){s(_webUi.detailsScreenBinding.viewModel)},2e3)}},p=function(){var n=$("form:not([id=signOutForm]):not([id=ResetSettingsModalDialogForm]):first");n&&$(":input",n).not(":button, :submit, :reset").each(function(n,t){t.id&&k($("[name="+t.id+"]"),"data-rule")&&($("#"+t.id).data("igNumericEditor")!=undefined?$(document).delegate("#"+t.id,"ignumericeditorvaluechanged",_webUi.validate.validateElement):$("#"+t.id).data("igTextEditor")!=undefined&&$(document).delegate("#"+t.id,"igtexteditorvaluechanged",_webUi.validate.validateElement))})},n=function(){var n=$("li.menubuttonsave");n&&n.children()&&n.children()[0]&&(document.getElementById($("li.menubuttonsave").children()[0].id).disabled=!1)},w=function(){$("li.menubuttonsave").addClass("disabled"),$("li.menubuttonsave > a").click(function(n){$(this).closest("li").hasClass("disabled")&&(n.preventDefault(),n.stopImmediatePropagation())})},b=function(){if(_webUi.detailsScreenBinding.viewModel.model.ObjectId!=undefined){var n=_webUi.detailsScreenBinding.viewModel.model.ObjectId.peek();n<=0&&($("li.menubuttonexport").addClass("disabled"),$("li.menubuttonexport > a").click(function(n){$(this).closest("li").hasClass("disabled")&&(n.preventDefault(),n.stopImmediatePropagation())}))}},k=function(n,t){if(n.length>0){var r=n[0].attributes,i=!1;$.each(r,function(n,r){if(r.name.indexOf(t)==0)return i=!0,!1})}return i},d=function(){_webUi.detailsScreenBinding.screenMode!==undefined&&_webUi.detailsScreenBinding.screenMode===4&&i(!0)},g=function(evt){var entityToSave,idValue,tempErrorCallback,tempSuccessCallback,putUrl,errorCallbackUpdateMethod,putServiceErrorCallback,putSuccessCallback;if(document.getElementById(evt.currentTarget.id).disabled!==!0)if(document.getElementById(evt.currentTarget.id).disabled=!0,_webUi.validate.validateMainForm()){if(entityToSave=ko.mapping.toJS(_webUi.detailsScreenBinding.viewModel.model),l=evt.data.queryParameter_IdField,idValue=_webUi.detailsScreenBinding.viewModel.model[evt.data.queryParameter_IdField].peek(),_webUi.detailsScreenBinding.screenMode!==undefined&&(_webUi.detailsScreenBinding.screenMode===2||_webUi.detailsScreenBinding.screenMode===4)){var postUrl=$.trim(evt.data.POSTServiceURL),errorCallback=null,successCallback=null;$.trim(evt.data.POSTServiceErrorCallbackInsert)&&(tempErrorCallback=eval(evt.data.POSTServiceErrorCallbackInsert),tempErrorCallback!==undefined&&(errorCallback=tempErrorCallback)),$.trim(evt.data.POSTServiceSuccessCallbackInsert)&&(tempSuccessCallback=eval(evt.data.POSTServiceSuccessCallbackInsert),tempSuccessCallback!==undefined&&(successCallback=tempSuccessCallback)),$.trim(evt.data.UseCustomEntity)&&evt.data.entityToSave!=null&&(entityToSave=evt.data.entityToSave),entityToSave!==null&&$.trim(postUrl)?_httpRequest.performPost(postUrl,entityToSave,successCallback?successCallback:c,errorCallback,!1):n()}else putUrl=$.trim(evt.data.PUTServiceURL)+evt.data.queryParameter_IdField+"="+idValue,entityToSave!==null&&$.trim(putUrl)?(errorCallbackUpdateMethod=_webUi.detailsScreenBinding.errorCallbackUpdate,$.trim(evt.data.PUTServiceErrorCallbackUpdate)&&(putServiceErrorCallback=eval(evt.data.PUTServiceErrorCallbackUpdate),putServiceErrorCallback!==undefined&&(errorCallbackUpdateMethod=putServiceErrorCallback)),$.trim(evt.data.PUTServiceSuccessCallbackUpdate)&&(putSuccessCallback=eval(evt.data.PUTServiceSuccessCallbackUpdate),putSuccessCallback!==undefined&&(t=putSuccessCallback)),r=Q.defer(),_httpRequest.performPut(putUrl,entityToSave,t,errorCallbackUpdateMethod,!1),_webUi.Grid.saveChanges(it,nt,tt,r)):n();$("#formId")&&$("#formId")[0].value>="50000"&&$("#formId")[0].value<="50009"&&_httpRequest.performGet("/scale/general/clearcache",null,null,!1,!1)}else _webUi.accordion.expandAccordionOnValidationFailure(),n()},nt=function(t,i,r){_httpRequest.defaultErrorCallback(t,i,r),n()},tt=function(t,i,r){_httpRequest.defaultErrorCallback(t,i,r),h(),n()},it=function(){h(),n(),r.resolve()},h=function(){var n=$("[data-controlType=igGrid]");$.each(n,function(){$(this).igGrid("dataBind")})},rt=function(){var n=$("li.menubuttonsave");return n!==undefined&&n!==null&&n.length>0},c=function(n){_webUi.navigationTrail.navigateBackToPreviousPage(!1,$.trim(n.MessageType),n.MessageCode,null)},t=function(n){r==null?_webUi.navigationTrail.navigateBackToPreviousPage(!1,$.trim(n.MessageType),n.MessageCode,null):r.promise.then(function(){_webUi.navigationTrail.navigateBackToPreviousPage(!1,$.trim(n.MessageType),n.MessageCode,null)})},i=function(n){n?$("li.menubuttonsave").removeClass("disabled"):$("li.menubuttonsave").addClass("disabled"),ut=n,_webUi.detailsScreenBinding.uncommittedEdits=n},ut=!1,ft=function(n){for(var t in n)_webUi.detailsScreenBinding.viewModel.model.hasOwnProperty(t)&&_webUi.detailsScreenBinding.viewModel.model[t].subscribe&&_webUi.detailsScreenBinding.viewModel.model[t].subscribe(function(){u()})},u=function(){var n=_webUi.detailsScreenBinding.viewModel;JSON.stringify(n.entityJson)!=JSON.stringify(ko.mapping.toJS(n.model))?($("li.menubuttonsave").removeClass("disabled"),_webUi.detailsScreenBinding.uncommittedEdits=!0):$("li.menubuttonsave").hasClass("disabled")||($("li.menubuttonsave").addClass("disabled"),_webUi.detailsScreenBinding.uncommittedEdits=!1)};return{detailSuccessCallback:function(n,t,i){c(n,t,i)},enableOrDisableSave:function(n){i(n)},viewModel:null,entityInJsonFormat:null,screenMode:6,uncommittedEdits:!1,addComboMethodToViewModel:function(n){e(_webUi.detailsScreenBinding.viewModel.entityJson,n)},bindHyperLinks:function(){o(this.entityInJsonFormat)},bindScreenData:function(n){this.entityInJsonFormat=n,v(n),d()},successCallbackUpdate:function(n,i,r){t(n,i,r)},errorCallbackUpdate:function(r,u,f,e){r.responseJSON&&r.responseJSON.ErrorType===27?(i(!1),_saveUrl=this.url!==undefined?this.url:e,_webUi.dialog.showYesNoConfirmation(r.responseJSON.Message,r.responseJSON.ErrorCode).then(function(n){n?_httpRequest.performPut(_saveUrl+"&confirmationError="+r.responseJSON.ErrorCode,ko.mapping.toJS(_webUi.detailsScreenBinding.viewModel.model),t,_webUi.detailsScreenBinding.errorCallbackUpdate,!1):i(!0)})):_httpRequest.defaultErrorCallback(r,u,f),n()},initializeDetailScreen:function(n,t){_webUi.detailsScreenBinding.screenMode=n,_webUi.detailsScreenBinding.queryParams=t},onReadyEventHandler:function(controlName,parameters){var querystringData={};$.each(parameters,function(index,value){if(index.indexOf("queryParameter_")>-1){var inputValue=eval(value);querystringData[index.split("_")[1]]=inputValue}}),parameters.GETServiceURL!=undefined&&_httpRequest.performGet(parameters.GETServiceURL+$.param(querystringData),parameters.Get_SuccessCallback!=undefined?eval(parameters.Get_SuccessCallback):null,null,!1,!0)},resubmitWithConfirmActionOnErrorCallbackUpdate:function(n,r,u,f){i(!1),_saveUrl=f,_webUi.dialog.showYesNoConfirmation(n.responseJSON.Message,n.responseJSON.ErrorCode).then(function(i){i?_httpRequest.performPut(_saveUrl+"&confirmationError="+n.responseJSON.ErrorCode+"|Yes",ko.mapping.toJS(_webUi.detailsScreenBinding.viewModel.model),t,_webUi.shipmentHeader.errorCallbackUpdate,!1):_httpRequest.performPut(_saveUrl+"&confirmationError="+n.responseJSON.ErrorCode+"|No",ko.mapping.toJS(_webUi.detailsScreenBinding.viewModel.model),t,_webUi.shipmentHeader.errorCallbackUpdate,!1)})},cancel:function(n,t){var i=t===undefined||t===null||t===!1;i&&rt()&&_webUi.detailsScreenBinding.uncommittedEdits?ResourceJSPromise.then(function(){var n=ResourceManager.GetResource("MSG_CANCEL01",ResourceManager.ResourceType.Msg).TEXT;_webUi.dialog.showYesNoConfirmation(n,"MSG_CANCEL01").then(function(n){n&&_webUi.navigationTrail.navigateBackToPreviousPage(!0,null,null,null)})}):_webUi.navigationTrail.navigateBackToPreviousPage(!0,null,null,null)},save:function(n){g(n)},setValueinModelAttribute:function(n,t){_webUi.detailsScreenBinding.viewModel.model[n]=t,_webUi.detailsScreenBinding._dirty=!0,$("li.menubuttonsave").removeClass("disabled")},setCategoryComboCustomValueFromModel:function(n,t){$("#"+n).igCombo("text",_webUi.detailsScreenBinding.viewModel.model[t].peek())},updateCascadingData:function(n,t,i,r){var f,e,u;i?i[0].attributes.cascacdeRendered="true":(n&&(f=n.owner.bindings[0].attributes["data-childcombo"]),f?i=$("#"+f.value):r&&(i=$("#"+r))),i&&(t&&(u=i[0].attributes.originalDataSource,u===undefined&&(u=i.igCombo("option","dataSource"),i[0].attributes.originalDataSource=u),e=u._data.filter(function(n){return n.ParentComboKey===t})),i.igCombo("deselectAll",{},!0),i.igCombo("option","dataSource",e),i.igCombo("dataBind"))},enableEdit:function(n){ft(n)},reEnableSave:function(){n()},enableOrDisableSaveAction:function(n){i(n)},onDateControlsValueChanged:function(n){if(n.currentTarget&&n.currentTarget.id){var t=n.currentTarget.id,i=$("#"+t).attr("data-sourcename"),r=$("[name="+t).attr("value");r.trim()===""?_webUi.detailsScreenBinding.viewModel.model[i](null):_webUi.detailsScreenBinding.viewModel.model[i](r)}}}}(),_webUi.item=function(){return{getItemsAsync:function(n){var t=$("#"+n).igTextEditor("value");return t==null||t===""?null:_webUi.item.getItems(t)},getItems:function(n){var t=null;return _httpRequest.performGet("/general/scaleapi/ItemsApi?item="+encodeURIComponent(n),function(n){n!=null&&n.length>0&&(t=n)},null,!1,!1),t},getItemCompanyCombinationSync:function(n,t){var u=null,r=$("#"+n).igTextEditor("value"),i;return r==null||r===""?null:(i=$("#"+t).igCombo("text"),i===""&&(i=null),_webUi.item.getItemByItemAndCompany(r,i))},setItemImage:function(n,t,i,r){t&&(n=_webUi.item.getItemCompanyCombinationSync(i,r)),n!=null?$("#ItemInfoWebImage").attr("src",n.WebThumbnailImg):$("#ItemInfoWebImage").attr("src","")},setItemImageAndDescription:function(n,t,i,r,u){t&&(n=_webUi.item.getItemCompanyCombinationSync(i,r)),n!=null?($("#ItemInfoWebImage").attr("src",n.WebThumbnailImg),$(u).igTextEditor("value",n.Description)):$("#ItemInfoWebImage").attr("src","")},getItemByItemAndCompany:function(n,t){var i=null;return _httpRequest.performGet("/general/scaleapi/ItemsApi?item="+encodeURIComponent(n),function(n){if(n!=null&&n.length>0){for(var f=0;f<n.length;f++)n[f].Company===t&&(i=n[f]);i==null&&n.length==1&&(i=n[0])}},null,!1,!1),i},itemCompanyCombinationExists:function(n,t){var i=_webUi.item.getItemCompanyCombinationSync(n,t);return i==null?!1:!0},getItemAndCompanyUomSync:function(n,t){var i={},r;return i.item=$("#"+n).igTextEditor("value"),i.company=$("#"+t).igCombo("text"),r=null,i.item!=null&&i.item!=""&&i.company!=null&&_httpRequest.performGet("/general/items/uoms?"+$.param(i),function(n){r=n},null,!1,!1),r},getItemUom:function(n,t){var i={},r;return i.item=n,t===null&&(t=""),i.company=t,r=null,i.item!=null&&i.item!=""&&i.company!=null&&_httpRequest.performGet("/general/items/uoms?"+$.param(i),function(n){r=n},null,!1,!1),r},selectCompanyByItem:function(n,t,i){var u=_webUi.item.getItems(n),f,r,e;u&&(f=_webUi.config.ConfigValue.Company_List,f&&(u.length>1?(r=[],$.each(u,function(n,t){r.push(t.Company)}),_webUi.dialog.showCompanyModalDialog(r,f).then(function(n){n&&(_webUi.igControls.updateIGComboDatasource(r,f,n,t),$.isFunction(i)&&i(n))})):(r=[],e=null,u.length===1&&u[0].Company&&(e=u[0].Company,r=[e]),_webUi.igControls.updateIGComboDatasource(r,f,e,t),$.isFunction(i)&&i(e))))},updateUomDatasource:function(n,t,i,r){var u=[];r&&n.length>0?$.each(n,function(n,t){i&&$.each(i,function(n,r){(r.Identifier===t.ID||r.Identifier===t.quantityUM)&&u.push(i[n])})}):n.length<=0?u=i:$.each(n,function(n,t){i&&$.each(i,function(n,r){r.Identifier===t.quantityUM&&u.push(i[n])})}),r&&t&&($("#"+r).igCombo({dataSource:u}),$("#"+r).igCombo("value",t))},convertQtyToBaseQty:function(n,t,i){var u=n,r;return i&&i!=null&&i.length>0&&t!==i[0].quantityUm&&n>0&&(r=(new jinqJs).from(i).where("quantityUM == "+t).select(),r!=null&&(u=n*r[0].conversionQty)),u},convertQtyFromBaseUm:function(n,t,i){var u=n,r;return i&&i!=null&&i.length>0&&t!==i[0].quantityUm&&n>0&&(r=(new jinqJs).from(i).where("quantityUM == "+t).select(),r!=null&&(u=n/r[0].conversionQty)),u},setItemImageAndDescriptionBySelectedCompany:function(n,t,i,r,u){var f=n.length;f>1&&$.each(n,function(n,e){return t&&e.Company===t?($("#"+u).igTextEditor("value",e.Description),_webUi.item.setItemImage(e,!1,i,r),!1):n===f-1||!t?($("#"+u).igTextEditor("value",""),_webUi.item.setItemImage(null,!1,i,r),!1):void 0});return},setItemImageAndDescriptionAndCompanyBySelectedItem:function(n,t,i,r,u){_webUi.item.setItemImage(n,!1,i,r),n.Company&&(_webUi.detailsScreenBinding.viewModel.selectedItemCompany([n.Company]),_webUi.detailsScreenBinding.viewModel.model.Company(n.Company)),$("#"+u).igTextEditor("value",n.Description);return},loadUmsBySelectedItemAndCompany:function(n,t,i){$.each(n,function(n,r){if(t&&r.Company===t)return _httpRequest.performGet("/general/scaleapi/itemUnitOfMeasuresApi/GetItemUmsByStorageTemplate?storageTemplate="+encodeURIComponent(r.StorageTemplate),function(n){n&&$("#"+i).igCombo({dataSource:n})},null,!1,!0,!1),!1});return},bindUmCombo:function(n,t){var u;if(n){var f=0,i=[],r=_webUi.config.ConfigValue.UMQUANTITY_List;r&&($.each(n,function(n,t){$.each(r,function(n,u){u.Identifier===t.quantityUM&&i.push(r[n])})}),u=i[f].Identifier,t.igCombo({dataSource:i}),_webUi.detailsScreenBinding.viewModel.model.QuantityUm(i[0].Identifier),_webUi.detailsScreenBinding.viewModel.selectedItemQuantityUm([i[0].Identifier]),t.igCombo("value",u))}}}}(),_webUi.metadataActions=function(){var n=function(n){if(1){var t={};return $.each(n.data,function(n,i){var r=i,f,u;if(n.indexOf("queryParameter_Input_")!==-1)f=n.split("_")[2],u=$("#"+f),r=u?_webUi.editors.getInputValue(u,r):"undefined",t[n.split("_")[3]]=r;else if(n.indexOf("queryParameter_Function_")!==-1){var e=_webUi.getNamespaceAndFunctionName(r),o=_webUi.getArguments(r),s=_webUi.executeFunctionByName(e,window,o);t[n.split("_")[2]]=s}else n.indexOf("queryParameter_PassValue_")!==-1?t[n.split("_")[2]]=r:n.indexOf("queryParameter_")!==-1&&(r=_webUi.detailsScreenBinding.viewModel.model[i].peek(),t[n.split("_")[1]]=r)}),t}return null};return{menuActionPerformPost:function(evt){var querystringData=n(evt),successCallbackFunction;querystringData!==null&&evt.data.POSTServiceURL!==undefined&&(successCallbackFunction=eval(evt.data.Post_SuccessCallback),_httpRequest.performPost(evt.data.POSTServiceURL+$.param(querystringData),null,successCallbackFunction,null,!0))}}}(),enableSaveOnEdit=function(n){var r,t,i;for(r in n)if(n.hasOwnProperty(r)){t=n[r];for(i in t)t.hasOwnProperty(i)&&t[i].subscribe&&t[i].subscribe(function(){_webUi.detailsScreenBinding._dirty||(_webUi.detailsScreenBinding._dirty=!0,_webUi.detailsScreenBinding.uncommittedEdits=!0,$("li.menubuttonsave").removeClass("disabled"))})}},_webUi.detailsScreenBinding.enableEdit=function(n){_webUi.detailsScreenBinding._dirty=!1,enableSaveOnEdit(n)},_webUi.detailsScreenBinding.invokePUTWebService=function(n){if(_webUi.validate.validateMainForm()){var t=getRequestEntity(),i=$.trim(n.data.PUTServiceURL);t!==null&&$.trim(i)&&_httpRequest.performPut(i,t,successCallbackUpdate,errorCallbackInsert,!1)}},_webUi.detailsScreenBinding.invokePOSTWebService=function(n){var t,r,i;_webUi.validate.validateMainForm()&&(t=getRequestEntity(),r=$("[data-controlType=igGrid]"),$.each(t,function(n,t){t.hasOwnProperty("drilldownToInsight")?t.drilldownToInsight=_webUi.detailsScreenBinding.formatInputAsPerTemplate(t.drilldownToInsight):t.hasOwnProperty("jumpToInsight")&&(t.jumpToInsight=_webUi.detailsScreenBinding.formatInputAsPerTemplate(t.jumpToInsight))}),$.each(r,function(n,i){var u=$("#"+i.id).igGrid("pendingTransactions"),r=[];$.each(u,function(n,t){var u=null,i=t.row;i.hasOwnProperty("data-indicatorTileGoToInsight")&&(i["data-indicatorTileGoToInsight"]=_webUi.detailsScreenBinding.formatInputAsPerTemplate(i["data-indicatorTileGoToInsight"])),r.push(t.row)}),t[i.id]=r}),i=$.trim(n.data.POSTServiceURL),t!==null&&$.trim(i)&&_httpRequest.performPost(i,t,successCallbackUpdate,errorCallbackUpdate,!1))},errorCallbackUpdate=function(n,t,i){n.responseJSON&&n.responseJSON.ErrorType===27?(enableOrDisableSaveAction(!1),_saveUrl=this.url,_webUi.dialog.showYesNoConfirmation(n.responseJSON.Message,n.responseJSON.MessageCode).then(function(n){n?_httpRequest.performPost(_saveUrl+"&showConfirmMessage=false",ko.mapping.toJS(_webUi.detailsScreenBinding.viewModel.model),successCallbackUpdate,errorCallbackUpdate,!1):enableOrDisableSaveAction(!0)})):_httpRequest.defaultErrorCallback(n,t,i)},errorCallbackInsert=function(n,t,i){n.responseJSON&&n.responseJSON.ErrorType===27?(enableOrDisableSaveAction(!1),_saveUrl=this.url,_webUi.dialog.showYesNoConfirmation(n.responseJSON.Message,n.responseJSON.MessageCode).then(function(n){n?_httpRequest.performPut(_saveUrl+"&showConfirmMessage=false",ko.mapping.toJS(_webUi.detailsScreenBinding.viewModel.model),successCallbackUpdate,errorCallbackUpdate,!1):enableOrDisableSaveAction(!0)})):_httpRequest.defaultErrorCallback(n,t,i)},_webUi.detailsScreenBinding.validateFormAndShowModalDialog=function(n){if(_webUi.validate.validateMainForm()&&n&&n.data.ModalDialogName){var t=n.data.ModalDialogName;_webUi.dialog.showModalDialog(t)}return!1},_webUi.detailsScreenBinding.modalDialogPerformPost=function(n){return _webUi.validate.validateModalDialogForm(n)&&(_webUi.detailsScreenBinding.invokePOSTWebService(n),n&&n.data.ModalDialogName&&_webUi.dialog.hideModalDialog(n.data.ModalDialogName)),!1};var successCallbackUpdate=function(n){_webUi.navigationTrail.navigateBackToPreviousPage(!1,$.trim(n.MessageType),n.MessageCode,null)},enableOrDisableSaveAction=function(n){n?$("li.menubuttonsave").removeClass("disabled"):$("li.menubuttonsave").addClass("disabled"),_webUi.detailsScreenBinding._dirty=n,_webUi.detailsScreenBinding.uncommittedEdits=n},getRequestEntity=function(){return ko.mapping.toJS(_webUi.detailsScreenBinding.viewModel.model)},resetValuesOnViewModel=function(){$.each(_webUi.detailsScreenBinding.viewModel.model,function(n,t){typeof t=="object"&&$.each(t,function(n,t){ko.isObservable(t)&&t(null)})})};$("#menu-toggle").click(function(){$(".menusidebar").hasClass("toggled")||$(".menusidebar").focus()})